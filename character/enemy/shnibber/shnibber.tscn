[gd_scene load_steps=12 format=4 uid="uid://cxo1p2pe1wy0j"]

[ext_resource type="Script" uid="uid://d1ny0ykilsy5o" path="res://character/enemy/shnibber/shnibber.gd" id="1_qq37m"]
[ext_resource type="PackedScene" uid="uid://cxr60bx56li3o" path="res://mechanics/health.tscn" id="2_jrq30"]
[ext_resource type="AudioStream" uid="uid://duq4gc2vw853j" path="res://assets/sfx/death/hurt_rat_02.ogg" id="3_6s6l5"]
[ext_resource type="AudioStream" uid="uid://d1orc3c018dsj" path="res://assets/sfx/death/hurt_rat_01.ogg" id="4_hdavi"]
[ext_resource type="PackedScene" uid="uid://bnk5012wxbkep" path="res://effects/blood.tscn" id="5_6s6l5"]

[sub_resource type="PortableCompressedTexture2D" id="PortableCompressedTexture2D_6s6l5"]
_data = PackedByteArray("AAADAAUAAAABAAAAwAAAAIAAAABGBQAAUklGRj4FAABXRUJQVlA4TDEFAAAvv8AfECcgECAEOfHfY0MgQNjwHyKNQIAQIcT/nPkPAPBXUYF2bbtVZAtngLqcQMNJgJYTADv/oLC09fB53PsX0X8JbiM5kqTq2xoPdo65P2z/jEVEOa6dxMo5j4Lb71HL1Cv37nNNzZirug4iw30Pwza9tNE9lJuGyzUvARhZLrptdy14LEJzA/ftcw207gz3IJjComW7XKuE3RXWhTvbVVLdvMRVct19haukui9e4SqZ7o1cUdhVUt37pWt6xDXg1q4lbuZjrmfmnbt0RdyS5Xbzeahlf25Uv6CLQu5huYm7nOmheww36WFjVy1et75IjtMW/8CZV+hSGa5BIfcw3Oq0T9jzzgVe1y5ji7nfCkzdZsBA5HM5amyct8d9Gj1o7pfXVUvwvB3uw1q96nvcDZ3Xhd3j7XRUjHvYdMGkK+Lu6kNpDsZynZG6M8v9y5X1sXC4SOd1hTsGxT4Wx6GfuKv8bhIdLne8gl8r4k7q9DRwvKAn3BPuCUT07clywUhmuWN9EZGo4CwX7JL53N7o7dt2n2EXh1zD6GtGtutMd/3PyPU0R2tdru+do7Uuz++Gp5WuLlyu3y2dy5Xkjrctb/tNomUNI478vyPigJu8rp9wDyjs3nnWQvXpOl1h9xnudIyd1Fxl7HBVkNdFOudg37GEXTXbbW1P3IW6wu6ruwY7YE4XaNPu03Yjl+PEH5zbRaabzbGCeDgGM3AsGg6XirTrNE67bsDlOPEHdylXc7jQYM2bhhwrGIzHhecKNjZcoEu7JPxHMsoGXdbkH9FmN/hdAmG4NuSWq6vThlchTCEbIZbX5XeD08abYzGeq+FSlYhb3YNP3MH+lA1vjj4l4FbXgxu/5x3bGkXdn20zNt+ON88edZPRzp49OBc23ZfjtM2sT10zXRR2bZfpos1z3h/0reF010bSRXRxF7vH1Wiq5KJ8134LV9mIhGtzuMS50rsEO901RWpWOwnXP29RibsWt98Ud2WP6V3qleZEdhq1xF3JYxoTSrf4wX3X/N2Nu3J36b0HXDXuSk2DjVyudV3hrvX1cH15HI5XR64o7sp9ocszlhJ3Jf9xFXfl7iJWS8JL2JUb95l4XGOWCoq71l1X8Bp3pX/tmoCr0Yg3Nu7Krg8TXsKuxPZZg402J09xV/Ijm/Gpn9W4KzPwgUGDmW+s4RJZrrz6QF8rOJhiuKzr05UXiRqfx486muGm5V2i99+71NHn4Mn7vwJyJT5TzOIQ62cencUbq1x2wJX4TLmj41VzB7Ejnq7s5K7vdNU6L+48wDYhzfOnMX6BxEjU0PG5uM+TqAW49AEuSFfWM6WbwUHELD6YBbukrcNGXnoosi8ies8Fhn5VGVzsqQEziJit0E3Ma/50eZwqcafnj8SxrCcHpsIf0fHYwQt9Pi07OPmP6Bh2+Mb5Qqk1ay5E38fxwJoOjTc7k02HyHCZFzk5B/s8RqTRcpsz7w72M2rxuvQza2KOxTzdARcP6UqKHL0QGL0ZN7Xeemq7ozYboxquDnfhSq9n1rLjV+rMcPHCLvG9ZZj4WA6yXM3lSnwio58GgZhnWRJceU/Eg5dDEiW4Uh/Y5yyAnPss5sqvMYLLsdQSdiXGehQdjGXmcjXDlVgXs7DGMijuSozEYARcAvqsJLgSj0tMA60h3tawKyn802mwB2W40reh6nIsGa78bTShlmPJcGVv1qolwZW87CjBlR2ZlQxX9tXZh4hZjT3sWpBgbzvR1SchwZUf3Y3kO3AxfyjBtWARFQ0gSnBltQEA")
size_override = Vector2(192, 128)

[sub_resource type="Animation" id="Animation_qq37m"]
length = 0.3
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="Animation" id="Animation_e7qw3"]
length = 0.2
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [3, 4]
}

[sub_resource type="Animation" id="Animation_aeqiy"]
length = 0.3
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Sprite2D:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = false
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_jrq30"]
_data = {
&"idle": SubResource("Animation_qq37m"),
&"injure": SubResource("Animation_e7qw3"),
&"walk": SubResource("Animation_aeqiy")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_t0nwx"]
radius = 28.01785

[node name="shnibber" type="CharacterBody2D"]
script = ExtResource("1_qq37m")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(-2, -31)
texture = SubResource("PortableCompressedTexture2D_6s6l5")
hframes = 3
vframes = 2
metadata/_aseprite_wizard_interface_config_ = {
"pending_changes": {}
}
metadata/_aseprite_wizard_config_ = {
"convert_fps_field": 60.0,
"convert_ms_field": 16.0,
"convert_to_fps": false,
"embed_tex": true,
"i_mode": 0,
"keep_anim_length": false,
"layers": [],
"o_ex_p": "",
"o_folder": "",
"o_name": "",
"only_visible": false,
"player": "AnimationPlayer",
"scale": "1.0",
"slice": "",
"source": "res://assets/character/enemy/shnibber.aseprite",
"source_uid": 1369187438542757965
}
metadata/_aseprite_wizard_source_file_hash_ = "0eac0d7b0b485922082f760c8ddb3897"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
root_node = NodePath("../Collision2D")
libraries = {
&"": SubResource("AnimationLibrary_jrq30")
}

[node name="Collision2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -28)
shape = SubResource("CircleShape2D_t0nwx")

[node name="Health" parent="." instance=ExtResource("2_jrq30")]
hurt_sound = ExtResource("3_6s6l5")
death_sound = ExtResource("4_hdavi")

[node name="blood" parent="." instance=ExtResource("5_6s6l5")]

[node name="tmr_recover" type="Timer" parent="."]
wait_time = 0.3

[connection signal="timeout" from="tmr_recover" to="." method="_on_tmr_recover_timeout"]
